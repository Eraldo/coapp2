<ion-header>
  <ion-navbar color="journey">
    <button ion-button menuToggle>
      <ion-icon [name]="icons.MENU"></ion-icon>
    </button>
    <ion-title>Hero</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="showOptions($event)">
        <ion-icon [name]="icons.MORE"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="hero">
    <ion-spinner *ngIf="loading"></ion-spinner>
    <ng-container *ngIf="!loading">
      <ion-item>
        <ion-thumbnail item-left (click)="updateAvatar()">
          <img src="{{ hero.avatar }}">
        </ion-thumbnail>
        <h1 (click)="updateName()">{{ hero.name || '...' }}</h1>
        <p (click)="updatePurpose()" text-wrap>{{ purpose || '...' }}</p>
      </ion-item>
      <div (click)="updateTopic()">
        <ion-item-divider color="light">Year topic</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.yearTopic"></markdown>
        </div>
      </div>
      <div (click)="update('vision')">
        <ion-item-divider color="light">Vision</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.vision"></markdown>
        </div>
      </div>
      <div (click)="update('mission')">
        <ion-item-divider color="light">Mission</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.mission"></markdown>
        </div>
      </div>
      <div (click)="update('values')">
        <ion-item-divider color="light">Values</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.values"></markdown>
        </div>
      </div>
      <div (click)="update('powers')">
        <ion-item-divider color="light">Powers</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.powers"></markdown>
        </div>
      </div>
      <div (click)="update('skills')">
        <ion-item-divider color="light">Skills</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.skills"></markdown>
        </div>
      </div>
      <div (click)="update('habits')">
        <ion-item-divider color="light">Habits</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.habits"></markdown>
        </div>
      </div>
      <div (click)="update('principles')">
        <ion-item-divider color="light">Principles</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.principles"></markdown>
        </div>
      </div>
      <div (click)="update('wishes')">
        <ion-item-divider color="light">Wishes</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.wishes"></markdown>
        </div>
      </div>
      <div (click)="update('goals')">
        <ion-item-divider color="light">Goals</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.goals"></markdown>
        </div>
      </div>
      <div (click)="update('people')">
        <ion-item-divider color="light">People</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.people"></markdown>
        </div>
      </div>
      <div (click)="update('resources')">
        <ion-item-divider color="light">Resources</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.resources"></markdown>
        </div>
      </div>
      <div (click)="update('achievements')">
        <ion-item-divider color="light">Achievements</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.achievements"></markdown>
        </div>
      </div>
      <div (click)="update('questions')">
        <ion-item-divider color="light">Questions</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.questions"></markdown>
        </div>
      </div>
      <div (click)="update('experiments')">
        <ion-item-divider color="light">Experiments</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.experiments"></markdown>
        </div>
      </div>
      <div (click)="update('projects')">
        <ion-item-divider color="light">Projects</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.projects"></markdown>
        </div>
      </div>
      <div (click)="update('bucket')">
        <ion-item-divider color="light">Bucket list</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.bucket"></markdown>
        </div>
      </div>
      <div (click)="update('roles')">
        <ion-item-divider color="light">Roles</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.roles"></markdown>
        </div>
      </div>
      <div (click)="update('strategy')">
        <ion-item-divider color="light">Strategy</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.strategy"></markdown>
        </div>
      </div>
      <div (click)="update('topics')">
        <ion-item-divider color="light">Topics</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.topics"></markdown>
        </div>
      </div>
      <div (click)="update('inspirations')">
        <ion-item-divider color="light">Inspirations</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.inspirations"></markdown>
        </div>
      </div>
      <div (click)="update('blueprintDay', 'Perfect day')">
        <ion-item-divider color="light">Perfect day</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.blueprintDay"></markdown>
        </div>
      </div>
      <div (click)="update('blueprintWeek', 'Perfect week')">
        <ion-item-divider color="light">Perfect week</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.blueprintWeek"></markdown>
        </div>
      </div>
      <div (click)="update('blueprintMonth', 'Perfect month')">
        <ion-item-divider color="light">Perfect month</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.blueprintMonth"></markdown>
        </div>
      </div>
      <div (click)="update('content', 'Description')">
        <ion-item-divider color="light">Description</ion-item-divider>
        <div padding-horizontal>
          <markdown [data]="hero.content"></markdown>
        </div>
      </div>
    </ng-container>
  </div>
</ion-content>

<ion-footer>
  <span ion-text class="update-badge" color="mid" padding-horizontal>last update: {{ hero?.modified | amTimeAgo }}</span>
</ion-footer>
