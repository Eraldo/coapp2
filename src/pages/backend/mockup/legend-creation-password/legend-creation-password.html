<ion-header>
  <ion-navbar>
    <ion-title>Credentials</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-4 text-center>
        <div class="person" text-center>
          <img src="assets/images/welcome-avatar.jpg">
          <div class="name-tag">Eraldo Energy</div>
        </div>
      </ion-col>
      <ion-col col-8>
        <ion-item text-wrap no-lines class="chat-box">
          <div *ngIf="!password">
            <p>Great, <strong>{{form?.value?.name}}</strong>! Now you can chose your username and a password to secure your account.</p>
          </div>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <ion-list no-lines>
      <ion-item-divider color="light">
        Your desired Username and Password?
      </ion-item-divider>
      <ion-item>
        <ion-input type="username" formControlName="username" placeholder="Enter Username"></ion-input>
      </ion-item>
      <p *ngIf="form.get('username').status === 'PENDING'" padding-horizontal>
        Checking...
      </p>
      <p *ngIf="form.get('username').status === 'VALID'" padding-horizontal ion-text color="success">
        ðŸ˜º This username is available!
      </p>
      <p *ngIf="form.get('username').errors && form.get('username').errors.usernameTaken" padding-horizontal ion-text color="danger">
        ðŸ˜¢ Oh, this username is already taken.
      </p>
      <ion-item>
        <ion-input type="password" formControlName="password" placeholder="Enter Password" fixed></ion-input>
      </ion-item>
      <button ion-button block color="success" [disabled]="!form.valid || processing">
        Answer
      </button>
    </ion-list>
  </form>
  <div padding-horizontal>
    <p ion-text color="mid">
      Hint: Try using 4-8 words without spaces in between as a password.<br>
      Secure and easy to remember! :D<br>
      <a href="https://xkcd.com/936/" target="_blank">Image exampling the concept</a><br>
      <a href="http://preshing.com/20110811/xkcd-password-generator/" target="_blank">Passphrase Generator</a><br>
    </p>
  </div>
</ion-content>
