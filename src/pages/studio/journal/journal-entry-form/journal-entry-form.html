<ion-header>
  <ion-navbar color="studio">
    <button ion-button menuToggle>
    <ion-icon [name]="icons.MENU"></ion-icon>
    </button>
    <ion-title (click)="save()">
      {{ entry?.id ? "Update" : "New"}} {{ entry?.scope | titlecase }} Entry
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only [disabled]="form.invalid" (click)="save()">
        <ion-icon [name]="icons.SAVE"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-spinner *ngIf="loading"></ion-spinner>
  <form [formGroup]="form" (ngSubmit)="save()" *ngIf="!loading">
    <ion-item-divider color="light">
      <scoped-date [scope]="entry?.scope | lowercase" [date]="entry?.start"></scoped-date>
    </ion-item-divider>
    <ion-item>
      <ion-label floating>Keywords</ion-label>
      <ion-input formControlName="keywords" maxlength="500"></ion-input>
    </ion-item>
    <div class="content" padding>
      <ion-label no-margin color="mid">Content</ion-label>
      <simplemde formControlName="content"></simplemde>
    </div>
    <journal-entries-overview [scope]="entry.scope.toLowerCase()" [start]="entry.start"></journal-entries-overview>
  </form>
</ion-content>
